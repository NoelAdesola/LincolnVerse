{"ast":null,"code":"// src/pages/Favorites.js\nimport React,{useEffect,useState}from'react';import{getFavorites,removeFavorite}from'../services/api';import{Container,Grid,Card,CardMedia,CardContent,Typography,IconButton,Box,CircularProgress,Alert}from'@mui/material';import DeleteIcon from'@mui/icons-material/Delete';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Favorites=()=>{const[favorites,setFavorites]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const fetchFavorites=async()=>{try{const{data}=await getFavorites();setFavorites(data);}catch{setError('Failed to load favorites.');}finally{setLoading(false);}};useEffect(()=>{fetchFavorites();},[]);const handleRemove=async id=>{try{await removeFavorite(id);setFavorites(favs=>favs.filter(f=>f.id!==id));}catch{setError('Could not remove favorite.');}};if(loading)return/*#__PURE__*/_jsx(Box,{textAlign:\"center\",children:/*#__PURE__*/_jsx(CircularProgress,{})});if(error)return/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error});return/*#__PURE__*/_jsxs(Container,{sx:{py:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"My Favorites\"}),favorites.length===0?/*#__PURE__*/_jsx(Typography,{children:\"No favorites yet.\"}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:favorites.map(fav=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"180\",image:fav.thumbnail_url,alt:fav.title}),/*#__PURE__*/_jsxs(CardContent,{sx:{position:'relative'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",noWrap:true,children:fav.title}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>handleRemove(fav.id),sx:{position:'absolute',top:8,right:8},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})]})},fav.id))})]});};export default Favorites;","map":{"version":3,"names":["React","useEffect","useState","getFavorites","removeFavorite","Container","Grid","Card","CardMedia","CardContent","Typography","IconButton","Box","CircularProgress","Alert","DeleteIcon","jsx","_jsx","jsxs","_jsxs","Favorites","favorites","setFavorites","loading","setLoading","error","setError","fetchFavorites","data","handleRemove","id","favs","filter","f","textAlign","children","severity","sx","py","variant","gutterBottom","length","container","spacing","map","fav","item","xs","sm","md","component","height","image","thumbnail_url","alt","title","position","noWrap","onClick","top","right"],"sources":["C:/Users/Student/Desktop/Scratch/LincolnVerse/LincolnVerse/frontend/src/pages/Favorites.js"],"sourcesContent":["// src/pages/Favorites.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getFavorites, removeFavorite } from '../services/api';\r\nimport {\r\n  Container, Grid, Card, CardMedia, CardContent, Typography,\r\n  IconButton, Box, CircularProgress, Alert\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\n\r\nconst Favorites = () => {\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [loading, setLoading]     = useState(true);\r\n  const [error, setError]         = useState('');\r\n\r\n  const fetchFavorites = async () => {\r\n    try {\r\n      const { data } = await getFavorites();\r\n      setFavorites(data);\r\n    } catch {\r\n      setError('Failed to load favorites.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFavorites();\r\n  }, []);\r\n\r\n  const handleRemove = async (id) => {\r\n    try {\r\n      await removeFavorite(id);\r\n      setFavorites(favs => favs.filter(f => f.id !== id));\r\n    } catch {\r\n      setError('Could not remove favorite.');\r\n    }\r\n  };\r\n\r\n  if (loading) return <Box textAlign=\"center\"><CircularProgress/></Box>;\r\n  if (error)   return <Alert severity=\"error\">{error}</Alert>;\r\n\r\n  return (\r\n    <Container sx={{ py: 4 }}>\r\n      <Typography variant=\"h4\" gutterBottom>My Favorites</Typography>\r\n      {favorites.length === 0\r\n        ? <Typography>No favorites yet.</Typography>\r\n        : (\r\n          <Grid container spacing={3}>\r\n            {favorites.map(fav => (\r\n              <Grid item key={fav.id} xs={12} sm={6} md={4}>\r\n                <Card>\r\n                  <CardMedia\r\n                    component=\"img\"\r\n                    height=\"180\"\r\n                    image={fav.thumbnail_url}\r\n                    alt={fav.title}\r\n                  />\r\n                  <CardContent sx={{ position: 'relative' }}>\r\n                    <Typography variant=\"subtitle1\" noWrap>\r\n                      {fav.title}\r\n                    </Typography>\r\n                    <IconButton\r\n                      onClick={() => handleRemove(fav.id)}\r\n                      sx={{ position: 'absolute', top: 8, right: 8 }}\r\n                    >\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        )\r\n      }\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Favorites;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}