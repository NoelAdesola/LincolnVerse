{"ast":null,"code":"// src/pages/Contact.js\nimport React,{useState,useEffect}from'react';import{sendContactMessage}from'../services/api';import{Container,Box,Typography,TextField,Button,Alert,CircularProgress,Slide}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;const Contact=()=>{const[form,setForm]=useState({name:'',email:'',message:'',website:''});// website = honeypot\nconst[touched,setTouched]=useState({});const[errors,setErrors]=useState({});const[loading,setLoading]=useState(false);const[status,setStatus]=useState({success:'',error:''});// Validate on change or blur\nuseEffect(()=>{const newErr={};if(touched.name&&!form.name.trim())newErr.name='Name is required.';if(touched.email){if(!form.email.trim())newErr.email='Email is required.';else if(!emailRegex.test(form.email))newErr.email='Enter a valid email.';}if(touched.message&&!form.message.trim())newErr.message='Message cannot be empty.';setErrors(newErr);},[form,touched]);const isValid=form.name.trim()&&emailRegex.test(form.email)&&form.message.trim()&&!form.website;// honeypot must be empty\nconst handleChange=e=>{const{name,value}=e.target;setForm(f=>({...f,[name]:value}));setStatus({success:'',error:''});};const handleBlur=e=>{setTouched(t=>({...t,[e.target.name]:true}));};const handleSubmit=async e=>{e.preventDefault();setTouched({name:true,email:true,message:true});if(!isValid)return;setLoading(true);try{await sendContactMessage({name:form.name,email:form.email,message:form.message});setStatus({success:'Your message has been sent. We’ll get back to you shortly.',error:''});setForm({name:'',email:'',message:'',website:''});setTouched({});}catch{setStatus({success:'',error:'Failed to send message. Please try again later.'});}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{sx:{py:4},children:/*#__PURE__*/_jsxs(Box,{maxWidth:\"sm\",mx:\"auto\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Contact Us\"}),/*#__PURE__*/_jsxs(Box,{\"aria-live\":\"polite\",children:[/*#__PURE__*/_jsx(Slide,{in:Boolean(status.error),direction:\"down\",children:/*#__PURE__*/_jsx(\"div\",{children:status.error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:status.error})})}),/*#__PURE__*/_jsx(Slide,{in:Boolean(status.success),direction:\"down\",children:/*#__PURE__*/_jsx(\"div\",{children:status.success&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",sx:{mb:2},children:status.success})})})]}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"website\",value:form.website,onChange:handleChange,style:{display:'none'},autoComplete:\"off\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Your Name\",name:\"name\",margin:\"normal\",value:form.name,onChange:handleChange,onBlur:handleBlur,error:Boolean(errors.name),helperText:errors.name,required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email Address\",name:\"email\",type:\"email\",margin:\"normal\",value:form.email,onChange:handleChange,onBlur:handleBlur,error:Boolean(errors.email),helperText:errors.email,required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Message\",name:\"message\",margin:\"normal\",multiline:true,rows:4,value:form.message,onChange:handleChange,onBlur:handleBlur,error:Boolean(errors.message),helperText:errors.message,required:true}),/*#__PURE__*/_jsx(Box,{mt:2,textAlign:\"right\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:!isValid||loading,startIcon:loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):null,children:loading?'Sending…':'Send Message'})})]})]})});};export default Contact;","map":{"version":3,"names":["React","useState","useEffect","sendContactMessage","Container","Box","Typography","TextField","Button","Alert","CircularProgress","Slide","jsx","_jsx","jsxs","_jsxs","emailRegex","Contact","form","setForm","name","email","message","website","touched","setTouched","errors","setErrors","loading","setLoading","status","setStatus","success","error","newErr","trim","test","isValid","handleChange","e","value","target","f","handleBlur","t","handleSubmit","preventDefault","sx","py","children","maxWidth","mx","variant","gutterBottom","in","Boolean","direction","severity","mb","component","onSubmit","noValidate","type","onChange","style","display","autoComplete","fullWidth","label","margin","onBlur","helperText","required","multiline","rows","mt","textAlign","disabled","startIcon","size"],"sources":["C:/Users/Student/Desktop/Scratch/LincolnVerse/LincolnVerse/frontend/src/pages/Contact.js"],"sourcesContent":["// src/pages/Contact.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { sendContactMessage } from '../services/api';\r\nimport {\r\n  Container,\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Alert,\r\n  CircularProgress,\r\n  Slide\r\n} from '@mui/material';\r\n\r\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\nconst Contact = () => {\r\n  const [form, setForm] = useState({ name: '', email: '', message: '', website: '' }); // website = honeypot\r\n  const [touched, setTouched] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [status, setStatus] = useState({ success: '', error: '' });\r\n\r\n  // Validate on change or blur\r\n  useEffect(() => {\r\n    const newErr = {};\r\n    if (touched.name && !form.name.trim()) newErr.name = 'Name is required.';\r\n    if (touched.email) {\r\n      if (!form.email.trim()) newErr.email = 'Email is required.';\r\n      else if (!emailRegex.test(form.email)) newErr.email = 'Enter a valid email.';\r\n    }\r\n    if (touched.message && !form.message.trim()) newErr.message = 'Message cannot be empty.';\r\n    setErrors(newErr);\r\n  }, [form, touched]);\r\n\r\n  const isValid = \r\n    form.name.trim() &&\r\n    emailRegex.test(form.email) &&\r\n    form.message.trim() &&\r\n    !form.website; // honeypot must be empty\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setForm(f => ({ ...f, [name]: value }));\r\n    setStatus({ success: '', error: '' });\r\n  };\r\n\r\n  const handleBlur = e => {\r\n    setTouched(t => ({ ...t, [e.target.name]: true }));\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setTouched({ name: true, email: true, message: true });\r\n    if (!isValid) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      await sendContactMessage({ name: form.name, email: form.email, message: form.message });\r\n      setStatus({ success: 'Your message has been sent. We’ll get back to you shortly.', error: '' });\r\n      setForm({ name: '', email: '', message: '', website: '' });\r\n      setTouched({});\r\n    } catch {\r\n      setStatus({ success: '', error: 'Failed to send message. Please try again later.' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container sx={{ py: 4 }}>\r\n      <Box maxWidth=\"sm\" mx=\"auto\">\r\n        <Typography variant=\"h4\" gutterBottom>Contact Us</Typography>\r\n\r\n        <Box aria-live=\"polite\">\r\n          <Slide in={Boolean(status.error)} direction=\"down\">\r\n            <div>\r\n              {status.error && <Alert severity=\"error\" sx={{ mb: 2 }}>{status.error}</Alert>}\r\n            </div>\r\n          </Slide>\r\n          <Slide in={Boolean(status.success)} direction=\"down\">\r\n            <div>\r\n              {status.success && <Alert severity=\"success\" sx={{ mb: 2 }}>{status.success}</Alert>}\r\n            </div>\r\n          </Slide>\r\n        </Box>\r\n\r\n        <Box component=\"form\" onSubmit={handleSubmit} noValidate>\r\n          {/* Honeypot field */}\r\n          <input\r\n            type=\"text\"\r\n            name=\"website\"\r\n            value={form.website}\r\n            onChange={handleChange}\r\n            style={{ display: 'none' }}\r\n            autoComplete=\"off\"\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            label=\"Your Name\"\r\n            name=\"name\"\r\n            margin=\"normal\"\r\n            value={form.name}\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            error={Boolean(errors.name)}\r\n            helperText={errors.name}\r\n            required\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            margin=\"normal\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            error={Boolean(errors.email)}\r\n            helperText={errors.email}\r\n            required\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            label=\"Message\"\r\n            name=\"message\"\r\n            margin=\"normal\"\r\n            multiline\r\n            rows={4}\r\n            value={form.message}\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            error={Boolean(errors.message)}\r\n            helperText={errors.message}\r\n            required\r\n          />\r\n\r\n          <Box mt={2} textAlign=\"right\">\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              disabled={!isValid || loading}\r\n              startIcon={loading ? <CircularProgress size={20} /> : null}\r\n            >\r\n              {loading ? 'Sending…' : 'Send Message'}\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}