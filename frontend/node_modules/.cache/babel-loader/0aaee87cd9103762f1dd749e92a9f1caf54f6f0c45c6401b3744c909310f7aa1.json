{"ast":null,"code":"// src/services/api.js\nimport axios from'axios';// Backend API service\nconst API=axios.create({baseURL:'http://localhost:5000',withCredentials:true// Allows session-based authentication\n});// Authentication endpoints\nexport const registerUser=userData=>API.post('/auth/register',userData);export const loginUser=userData=>API.post('/auth/login',userData);export const logoutUser=()=>API.post('/auth/logout');// Password reset\nexport const sendResetLink=payload=>API.post('/auth/password/forgot',payload);export const resetPasswordConfirm=payload=>API.post('/auth/password/reset',payload);// User profile endpoints\nexport const getUserProfile=()=>API.get('/user/profile');export const updateUserProfile=profileData=>API.put('/user/profile',profileData);// Favorites endpoints\nexport const getFavorites=()=>API.get('/favorites');export const addFavorite=media=>API.post('/favorites',media);export const removeFavorite=id=>API.delete(`/favorites/${id}`);// Search history endpoints\nexport const saveSearch=function(query){let filters=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return API.post('/search/save',{query,filters});};export const getRecentSearches=()=>API.get('/search/recent');export const getSearchHistory=()=>API.get('/search/history');export const deleteSearch=id=>API.delete(`/search/${id}`);// Contact form endpoint\nexport const sendContactMessage=payload=>API.post('/contact',payload);// Openverse API service (public media search)\nconst OPENVERSE_API=axios.create({baseURL:'https://api.openverse.org/v1',headers:{Accept:'application/json'}});// Openverse search & details\nexport const searchMedia=function(query){let mediaType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'images';let page=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;let perPage=arguments.length>3&&arguments[3]!==undefined?arguments[3]:20;let filters=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};const params={q:query,page,page_size:perPage,...filters};return OPENVERSE_API.get(`/${mediaType}/`,{params});};export const getMediaDetails=(mediaType,id)=>OPENVERSE_API.get(`/${mediaType}/${id}/`);// Global auth error handling\nAPI.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){console.log('Authentication error, please log in again.');// You could dispatch a logout action or redirect to /login here\n}return Promise.reject(error);});export default API;","map":{"version":3,"names":["axios","API","create","baseURL","withCredentials","registerUser","userData","post","loginUser","logoutUser","sendResetLink","payload","resetPasswordConfirm","getUserProfile","get","updateUserProfile","profileData","put","getFavorites","addFavorite","media","removeFavorite","id","delete","saveSearch","query","filters","arguments","length","undefined","getRecentSearches","getSearchHistory","deleteSearch","sendContactMessage","OPENVERSE_API","headers","Accept","searchMedia","mediaType","page","perPage","params","q","page_size","getMediaDetails","interceptors","response","use","error","_error$response","status","console","log","Promise","reject"],"sources":["C:/Users/Student/Desktop/Scratch/LincolnVerse/LincolnVerse/frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nimport axios from 'axios';\r\n\r\n// Backend API service\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:5000',\r\n  withCredentials: true, // Allows session-based authentication\r\n});\r\n\r\n// Authentication endpoints\r\nexport const registerUser = (userData) =>\r\n  API.post('/auth/register', userData);\r\nexport const loginUser = (userData) =>\r\n  API.post('/auth/login', userData);\r\nexport const logoutUser = () =>\r\n  API.post('/auth/logout');\r\n\r\n// Password reset\r\nexport const sendResetLink = (payload) =>\r\n  API.post('/auth/password/forgot', payload);\r\nexport const resetPasswordConfirm = (payload) =>\r\n  API.post('/auth/password/reset', payload);\r\n\r\n// User profile endpoints\r\nexport const getUserProfile = () =>\r\n  API.get('/user/profile');\r\nexport const updateUserProfile = (profileData) =>\r\n  API.put('/user/profile', profileData);\r\n\r\n// Favorites endpoints\r\nexport const getFavorites = () =>\r\n  API.get('/favorites');\r\nexport const addFavorite = (media) =>\r\n  API.post('/favorites', media);\r\nexport const removeFavorite = (id) =>\r\n  API.delete(`/favorites/${id}`);\r\n\r\n// Search history endpoints\r\nexport const saveSearch = (query, filters = {}) =>\r\n  API.post('/search/save', { query, filters });\r\nexport const getRecentSearches = () =>\r\n  API.get('/search/recent');\r\nexport const getSearchHistory = () =>\r\n  API.get('/search/history');\r\nexport const deleteSearch = (id) =>\r\n  API.delete(`/search/${id}`);\r\n\r\n// Contact form endpoint\r\nexport const sendContactMessage = (payload) =>\r\n  API.post('/contact', payload);\r\n\r\n// Openverse API service (public media search)\r\nconst OPENVERSE_API = axios.create({\r\n  baseURL: 'https://api.openverse.org/v1',\r\n  headers: { Accept: 'application/json' },\r\n});\r\n\r\n// Openverse search & details\r\nexport const searchMedia = (\r\n  query,\r\n  mediaType = 'images',\r\n  page = 1,\r\n  perPage = 20,\r\n  filters = {}\r\n) => {\r\n  const params = { q: query, page, page_size: perPage, ...filters };\r\n  return OPENVERSE_API.get(`/${mediaType}/`, { params });\r\n};\r\nexport const getMediaDetails = (mediaType, id) =>\r\n  OPENVERSE_API.get(`/${mediaType}/${id}/`);\r\n\r\n// Global auth error handling\r\nAPI.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      console.log('Authentication error, please log in again.');\r\n      // You could dispatch a logout action or redirect to /login here\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default API;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}